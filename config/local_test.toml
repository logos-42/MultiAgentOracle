[test_environment]
name = "local_hierarchical_test"
node_count = 10
simulate_network_latency = true
enable_diap_mock = true  # 使用模拟DIAP身份

[nodes]
# 预定义10个节点的配置
node1 = { tier = "core", reputation = 850, stake = "1.0" }
node2 = { tier = "core", reputation = 820, stake = "0.8" }
node3 = { tier = "validator", reputation = 650, stake = "0.5" }
node4 = { tier = "validator", reputation = 580, stake = "0.4" }
node5 = { tier = "validator", reputation = 520, stake = "0.3" }
node6 = { tier = "data", reputation = 350, stake = "0.2" }
node7 = { tier = "data", reputation = 280, stake = "0.15" }
node8 = { tier = "data", reputation = 220, stake = "0.1" }
node9 = { tier = "data", reputation = 150, stake = "0.05" }
node10 = { tier = "data", reputation = 80, stake = "0.02" }

[gateways]
light_gateway_count = 2
mobile_gateway_count = 1
enable_gateway_simulation = true

[apis]
diap_sdk_endpoint = "http://localhost:8080/diap"  # 本地DIAP SDK模拟
data_api_mock = true
prompt_support = true

[consensus]
hierarchical_enabled = true
core_consensus_threshold = 0.67  # 核心层共识阈值
validator_consensus_threshold = 0.75  # 验证层共识阈值
data_submission_threshold = 0.6  # 数据提交阈值

[network]
max_core_connections = 5
max_validator_connections = 8
max_data_connections = 3
simulated_latency_ms = 50
packet_loss_rate = 0.01

[testing]
enable_visualization = true
log_level = "debug"
test_duration_seconds = 300
metrics_collection_interval = 10